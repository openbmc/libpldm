{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "217ef14f_f1036557",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2026-01-12T00:20:29Z",
      "side": 1,
      "message": "Looks pretty good, just a couple of queries / potential changes inline.",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7fa14f6_8ddfb84c",
        "filename": "include/libpldm/base.h",
        "patchSetId": 6
      },
      "lineNbr": 20,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2026-01-12T04:29:52Z",
      "side": 1,
      "message": "I prefer we avoid the typedef. I\u0027ve added a new entry to the contributing checklist covering some of the reasons:\n\nhttps://gerrit.openbmc.org/c/openbmc/libpldm/+/86562/1/CONTRIBUTING.md",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49fe0879_89644cec",
        "filename": "include/libpldm/transport/af-mctp.h",
        "patchSetId": 6
      },
      "lineNbr": 35,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2026-01-12T04:29:52Z",
      "side": 1,
      "message": "I generally prefer we take an incremental approach to fixing APIs: Introduce a new function with a different symbol name, deprecate the existing function, switch known consumers to the new function, then remove the old one.\n\nIt was certainly an oversight that the network wasn\u0027t included as a parameter. How about `pldm_transport_af_mctp_map_tid_fqe()`, where `fqe` means \"fully-qualified endpoint\"?",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4849272d_f2ba1ab4",
        "filename": "include/libpldm/transport/af-mctp.h",
        "patchSetId": 6
      },
      "lineNbr": 35,
      "author": {
        "id": 1002607
      },
      "writtenOn": "2026-01-19T03:26:21Z",
      "side": 1,
      "message": "Sure. I will rename the api and address the other comments along with it",
      "parentUuid": "49fe0879_89644cec",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db540d14_78cd430a",
        "filename": "src/transport/af-mctp.c",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2026-01-12T00:20:29Z",
      "side": 1,
      "message": "The `device_id` naming here and below is a bit unusual for this; it\u0027s more of a transport address.\n\nFor newer kernels you have `struct mctp_fq_addr` too, representing a fully-qualified address, which matches this pretty well:\n\n```c\n/* A \"fully qualified\" MCTP address, which includes the system-local network ID,\n * required to uniquely resolve a routable EID.\n */\nstruct mctp_fq_addr {\n\tunsigned int\tnet;\n\tmctp_eid_t\teid;\n};\n```\n\nhttps://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/uapi/linux/mctp.h#n40",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a46b7a7_dd3c2d30",
        "filename": "src/transport/af-mctp.c",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2026-01-12T06:31:22Z",
      "side": 1,
      "message": "So, we could directly include the mctp.h header file here and use the struct. Or should we re-define it?",
      "parentUuid": "db540d14_78cd430a",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e1db8d5_c564f74c",
        "filename": "src/transport/af-mctp.c",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2026-01-12T06:39:57Z",
      "side": 1,
      "message": "We are already directly including `linux/mctp.h` (which defines `mctp_eid_t`).",
      "parentUuid": "1a46b7a7_dd3c2d30",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14bc1767_ed13dab7",
        "filename": "src/transport/af-mctp.c",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2026-01-12T00:20:29Z",
      "side": 1,
      "message": "Why not pass the new struct (rather than separate net/eid) for this?",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cd7b2af_d21b2981",
        "filename": "src/transport/af-mctp.c",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2026-01-12T00:24:37Z",
      "side": 1,
      "message": "... or maybe this is more a question of the public API changes. Do we want to represent the (net, eid) as a common structure in the API too, or keep separate (as you have done here)?",
      "parentUuid": "14bc1767_ed13dab7",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36d8b758_50d31436",
        "filename": "src/transport/af-mctp.c",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2026-01-12T04:29:52Z",
      "side": 1,
      "message": "I think given we translate into TID space, which is not currently segmented in anyway, it might be worth avoiding introducing a new type into the public API to hold these two values. I think we can keep them separate as they are now (and in the case of the caller running under linux, they can unpack them from the `struct mctp_fq_addr` instance if they have one for the purpose of the call).",
      "parentUuid": "8cd7b2af_d21b2981",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3a4a263_57744039",
        "filename": "src/transport/af-mctp.c",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2026-01-12T06:31:22Z",
      "side": 1,
      "message": "I am ok either way.\n\nMaybe we can consider like this. \nIf we are re-using the struct from linux/mctp.h then probably we should avoid exposing it in public API. Otherwise, if it is going to be a libpldm defined struct, then we could expose the struct itself.",
      "parentUuid": "8cd7b2af_d21b2981",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ac22efd_d1bae13f",
        "filename": "src/transport/af-mctp.c",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2026-01-12T10:53:33Z",
      "side": 1,
      "message": "I missed Andrew\u0027s reply earlier.\nAs I understand, we are going ahead with separate net \u0026 eid.",
      "parentUuid": "b3a4a263_57744039",
      "revId": "14b904472c390f5558dcd46556408ac455423f99",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}