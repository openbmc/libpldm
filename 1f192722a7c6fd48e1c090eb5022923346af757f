{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0a9e2db5_4602e1c8",
        "filename": "src/oem/ibm/pdr.c",
        "patchSetId": 19
      },
      "lineNbr": 31,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2023-06-13T22:25:41Z",
      "side": 1,
      "message": "There needs to be a comment here about why this cast is valid. The trick is that we can\u0027t guarantee that it is, we just have to YOLO it. Hence you need a big flashing red light of a comment here to warn people what\u0027s going on.",
      "revId": "1f192722a7c6fd48e1c090eb5022923346af757f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c5d97c5_8df9dc68",
        "filename": "src/oem/ibm/pdr.c",
        "patchSetId": 19
      },
      "lineNbr": 40,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2023-06-13T22:25:41Z",
      "side": 1,
      "message": "Is this actually the behaviour that you want?",
      "revId": "1f192722a7c6fd48e1c090eb5022923346af757f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d539478b_e8141cd5",
        "filename": "src/oem/ibm/pdr.c",
        "patchSetId": 19
      },
      "lineNbr": 44,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2023-06-13T22:25:41Z",
      "side": 1,
      "message": "In discord I said:\n\n\u003e let me know if it\u0027s unclear how to address those todos. A couple of them (the casts) need to turn into comments documenting why they\u0027re a valid thing to do\n\nThis is one of those casts. I\u0027ve commented on the other above. These must come with comments about why they\u0027re valid.\n\nCurrently this cast is valid with respect to alignment because `struct pldm_pdr_hdr` is declared with `__attribute__((packed))`",
      "revId": "1f192722a7c6fd48e1c090eb5022923346af757f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4f0c61d_bfd3a2a7",
        "filename": "src/oem/ibm/pdr.c",
        "patchSetId": 19
      },
      "lineNbr": 52,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2023-06-13T22:25:41Z",
      "side": 1,
      "message": "We treat pdr-\u003echildren as a flexible array member. This check *must* be before we form the pointer assigned to `child` (i.e. placed immediately after line 44 and before the code currently on line 45) otherwise we will cause ourselves headaches. From Appendix J \"Undefined behaviour\" of N2176 (C17 draft standard):\n\n\u003e An attempt is made to access, or generate a pointer to just past, a flexible array member of a structure when the referenced object provides no elements for that array (6.7.2.1).\n\nWe\u0027re currently saved by the fact that the array is declared as length 1. But that means it\u0027s not formally a flexible array member, so any access beyond 0 is UB regardless. That needs to be fixed, but again it\u0027s a long road.",
      "revId": "1f192722a7c6fd48e1c090eb5022923346af757f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}