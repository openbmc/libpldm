{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d81424c8_f93e6b50",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:01:36Z",
      "side": 1,
      "message": "Thank you for working on this patch Andrew. I\u0027ve started reviewing it and it looks promising so far.\nI do have a few initial comments which I\u0027d like to share.",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f722f17b_e856f640",
        "filename": "include/libpldm/firmware_update.h",
        "patchSetId": 1
      },
      "lineNbr": 2073,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:27:49Z",
      "side": 1,
      "message": "What is meant by area and images ? Should it be a part of package_header_information struct as it\u0027s not defined in the spec ?",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd697ef7_7d76c133",
        "filename": "include/libpldm/firmware_update.h",
        "patchSetId": 1
      },
      "lineNbr": 2215,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:01:36Z",
      "side": 1,
      "message": "Are we decoding vendor defined descriptors from the package?",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c020b9f6_b97cfdb9",
        "filename": "include/libpldm/firmware_update.h",
        "patchSetId": 1
      },
      "lineNbr": 2274,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:01:36Z",
      "side": 1,
      "message": "Since this is not be present in PLDM package Version 1.0.x, I assume it\u0027s not tightly coupled and we should be able to parse the package descriptors and component information without using this foreach statement.\n\nCould you please add a UT for the same ?",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "104f7633_6f5661f8",
        "filename": "include/libpldm/firmware_update.h",
        "patchSetId": 1
      },
      "lineNbr": 2274,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:31:51Z",
      "side": 1,
      "message": "I was able to figure out the flow from the code but please consider adding an UT for the above case.",
      "parentUuid": "c020b9f6_b97cfdb9",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9026ec6_f4d9536c",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 339,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-03-24T15:39:42Z",
      "side": 1,
      "message": "Looking into DSP0267_1.3.0.pdf, page 1011, \n\nTable 3 - PLDM Firmware Package Header\n\n```\nA value of 1244D2648D7D4718A030FC8A56587D5A shall indicate that the update package format\nconforms to Version 1.1\n```\n\nI\u0027m confused why the variable is named ```PLDM_FWUP_PACKAGE_HEADER_IDENTIFIER_V2_0```\n\nIn the entire document i cannot find anything when looking for ```Version 2```\nand it seems to be the latest version of the document\n\nhttps://www.dmtf.org/standards/pmci",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86eb3ce4_8cd37c31",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 339,
      "author": {
        "id": 1002135
      },
      "writtenOn": "2025-05-13T05:52:37Z",
      "side": 1,
      "message": "Guessing that `2` comes from the value of `PackageHeaderFormatRevision`, but agree with Alexander, a more formal name decleration would be better.",
      "parentUuid": "d9026ec6_f4d9536c",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7fc55f1e_4081f60e",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 339,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "@unive.tien.wiwynn@gmail.com yes, that\u0027s the explanation, but I will change it to be more intuitive.",
      "parentUuid": "86eb3ce4_8cd37c31",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "455f9894_fa00c20e",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 393,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:01:36Z",
      "side": 1,
      "message": "what if it\u0027s 0, shouldn\u0027t we show an error?",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "828d831f_e8ed6305",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 472,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:01:36Z",
      "side": 1,
      "message": "do we log in libpldm, didn\u0027t see it anywhere else in the code ?",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b5e16c3_21b3f860",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 542,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:01:36Z",
      "side": 1,
      "message": "why do we need to repeat this checks again ? \nIt\u0027s already validated in decode_pldm_package_header_info_errno() so this one is redundant.",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c5beb5d_a65d2ca8",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 542,
      "author": {
        "id": 1002135
      },
      "writtenOn": "2025-05-13T05:52:37Z",
      "side": 1,
      "message": "Maybe the data would be assembled elsewhere, although this is out of libpldm expected?",
      "parentUuid": "6b5e16c3_21b3f860",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94608f32_222fe1fe",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 542,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c5beb5d_a65d2ca8",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ee96ddd_09c145b0",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3038,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:27:49Z",
      "side": 1,
      "message": "what does pldm_msgbuf_discard() return, is it rc?\nThis looks like a new addition, yet to go through all the patches but was curious to know.",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "acf05402_1612fe49",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3038,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-03-24T15:39:42Z",
      "side": 1,
      "message": "Looks like it discards the buffer and returns the passed error.\n```\n  int pldm_msgbuf_discard(struct pldm_msgbuf *ctx, int error)\n  {\n  |       ctx-\u003ecursor \u003d NULL;\n  |       pldm__msgbuf_invalidate(ctx);\n  |       return error;\n  }\n```\nand\n```\n  int pldm_msgbuf_discard(struct pldm_msgbuf *ctx, int error)\n  {\n  |       ctx-\u003ecursor \u003d NULL;\n  |       pldm__msgbuf_invalidate(ctx);\n  |       return error;\n  }\n```",
      "parentUuid": "1ee96ddd_09c145b0",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "57a95b48_ff28043f",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3038,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "@alexander.hansen@9elements.com yep. This helps ensure correct use of the msgbuf instance (errors are returned to the caller appropriately)",
      "parentUuid": "acf05402_1612fe49",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da1e2e8b_9f1aee7f",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3048,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-03-24T15:39:42Z",
      "side": 1,
      "message": "nit: Putting this constant in the middle of the file will make it harder to reorder and refactor functions later on.\n\nIt might just get lost or re-defined in such a long file.\n\nIf it\u0027s only needed for this one function, can it be defined as\n\n\n```\nconst unsigned int PLDM_FWUP_DOWNSTREAM_DEVICE_ID_RECORD_MIN_SIZE \u003d 11;\n```\n\ninside the function, to limit the scope.\n\nIf it\u0027s needed for multiple functions, maybe put it near the start of the file.",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17453cfa_53673ca5",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3048,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "It is only needed for the single function, but defining it as `const unsigned int` means it\u0027s not an \"integer constant expression\" with respect to the C language (which then may affect constant propagation during optimisation). I\u0027ll leave it for now. Any incorrect refactoring due to the location will yield a compilation failure, so it\u0027s not going to trip anyone up for too long.",
      "parentUuid": "da1e2e8b_9f1aee7f",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b4b2d466_5143fa8a",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3205,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:27:49Z",
      "side": 1,
      "message": "Redundant and not needed as it\u0027s validated while decoding the header",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9bd0647c_cea062b8",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3205,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b4b2d466_5143fa8a",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "894edd1f_aec53c4f",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3242,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-03-20T20:27:49Z",
      "side": 1,
      "message": "Decode for ComponentOpaqueData is missing",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "630ada9a_af3aee6b",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3242,
      "author": {
        "id": 1002135
      },
      "writtenOn": "2025-05-13T05:52:37Z",
      "side": 1,
      "message": "+1 for v1.3.0 support",
      "parentUuid": "894edd1f_aec53c4f",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab148773_393d00e9",
        "filename": "src/dsp/firmware_update.c",
        "patchSetId": 1
      },
      "lineNbr": 3242,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "We will add v1.3.0 support in a subsequent patch.",
      "parentUuid": "630ada9a_af3aee6b",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be8f8622_bc866b0d",
        "filename": "tests/dsp/firmware_update.cpp",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-03-24T15:39:42Z",
      "side": 1,
      "message": "Looking into DSP0267_1.3.0.pdf, page 1011, \n\nTable 3 - PLDM Firmware Package Header\n\n```\nA value of 1244D2648D7D4718A030FC8A56587D5A shall indicate that the update package format\nconforms to Version 1.1\n```\n\nI\u0027m confused why the variable is named ```PLDM_FWUP_PACKAGE_HEADER_IDENTIFIER_V2_0```\n\nIn the entire document i cannot find anything when looking for ```Version 2```\nand it seems to be the latest version of the document\n\nhttps://www.dmtf.org/standards/pmci",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5550be6_a5fc71d4",
        "filename": "tests/dsp/firmware_update.cpp",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "be8f8622_bc866b0d",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8490c9b_6ec56a9d",
        "filename": "tests/dsp/firmware_update.cpp",
        "patchSetId": 1
      },
      "lineNbr": 4643,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-03-24T15:39:42Z",
      "side": 1,
      "message": "```v1h1fd1fdd1cii``` is this some kind of shorthand to define the name of the testcase?\n\nDo we need a decoder program to translate to english 😄",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "167bc463_c1cc18c3",
        "filename": "tests/dsp/firmware_update.cpp",
        "patchSetId": 1
      },
      "lineNbr": 4643,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "It means:\n\nv1 header,\n1 firmware device\n1 firmware device descriptor\n1 component image information",
      "parentUuid": "b8490c9b_6ec56a9d",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef71ee6d_50f9f49b",
        "filename": "tests/dsp/firmware_update.cpp",
        "patchSetId": 1
      },
      "lineNbr": 4819,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-03-24T15:39:42Z",
      "side": 1,
      "message": "same comment about the testcase name ```v2h1fd1fdd1dd1ddd2cii```",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ceb37a90_f33223ca",
        "filename": "tests/dsp/firmware_update.cpp",
        "patchSetId": 1
      },
      "lineNbr": 4819,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2025-06-11T00:57:17Z",
      "side": 1,
      "message": "v2 header\n1 firmware device\n1 firmware device descriptor\n1 downstream device\n1 downstream device descriptor\n2 component image informations",
      "parentUuid": "ef71ee6d_50f9f49b",
      "revId": "c7a64d62622fb81133d39ec7acb1aa23cccdc077",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}